# ğŸ† Wakanda Business Intelligence Engine

> **AssembleHack25 Submission** - AI-Powered Business Intelligence Automation Platform

A modern, professional dashboard for AI-powered data orchestration and automation built with Kestra workflows, featuring real-time analytics, automated decision-making, and comprehensive data visualization.

[![Deployed on Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?style=for-the-badge&logo=vercel)](https://vercel.com/tosif121s-projects/v0-wakanda-bi-dashboard)
[![Built with Next.js](https://img.shields.io/badge/Built%20with-Next.js-black?style=for-the-badge&logo=next.js)](https://nextjs.org)
[![Powered by Kestra](https://img.shields.io/badge/Powered%20by-Kestra-purple?style=for-the-badge)](https://kestra.io)

## ğŸš€ Live Demo

**Production URL**: [https://v0-wakanda-bi-dashboard-peujpjvxp-tosif121s-projects.vercel.app](https://v0-wakanda-bi-dashboard-peujpjvxp-tosif121s-projects.vercel.app)
**GitHub Repository**: [https://github.com/tosif121/v0-wakanda-bi-dashboard](https://github.com/tosif121/v0-wakanda-bi-dashboard)
**Kestra Workflows**: Railway Cloud Deployment (see deployment instructions below)

### ğŸ¬ **Demo Video**


## ğŸ¤– Built with AI-Powered Development Tools

This project was developed using multiple AI-powered development environments and tools for rapid prototyping and intelligent code generation.

### ğŸ¯ **v0 by Vercel - Initial Project Bootstrap**

The foundation of this project was initialized using **v0**, Vercel's AI-powered UI generation tool:

- **Repository Initialization**: Project was bootstrapped by v0[bot] and tosif121 yesterday
- **Component Generation**: Initial UI components and layout structure created through v0's chat interface
- **Design System**: Professional SaaS-grade design patterns generated automatically
- **TypeScript Integration**: Full type safety and modern React patterns from the start
- **Responsive Design**: Mobile-first approach with seamless desktop experience built-in

### ğŸ”„ **Cline - Autonomous Development Environment**

Further development was enhanced using **Cline**, an autonomous coding environment that helps you build, iterate, and experiment with AI agents directly from your editor. Perfect for rapid prototyping and local agent development.

### ğŸ¯ Why v0 + Cline for AI Agent Development?

**v0** provided the perfect foundation for rapid UI development, while **Cline** enhanced the development experience for AI-powered applications:

**v0 Benefits**:
- **ğŸš€ Instant UI Generation**: Professional components generated from natural language descriptions
- **ğŸ“± Responsive by Default**: Mobile-first design patterns automatically applied
- **ğŸ¨ Design System Consistency**: Cohesive visual language across all components
- **âš¡ Zero Setup Time**: Complete project structure ready in minutes
- **ğŸ”§ Modern Stack**: Latest Next.js, TypeScript, and Tailwind CSS patterns

**Cline Benefits**:

- **ğŸ”„ Autonomous Code Generation**: AI-assisted development with intelligent code suggestions and implementations
- **âš¡ Rapid Prototyping**: Quickly iterate on AI agent workflows and business logic
- **ğŸ§  Local Agent Development**: Build and test AI agents in your local environment before deployment
- **ğŸ“Š Real-time Feedback**: Instant feedback loops for AI model integration and testing
- **ğŸ”§ Seamless Integration**: Direct integration with popular AI services and APIs
- **ğŸ¨ UI/UX Optimization**: AI-powered suggestions for user interface improvements

### ğŸš€ AI-Powered Development Workflow

**Phase 1: v0 Foundation (Initial Commit)**
1. **Project Bootstrap**: v0[bot] and tosif121 initialized the repository structure
2. **UI Component Generation**: Core dashboard components created through v0's chat interface
3. **Design System Setup**: Professional styling and responsive layouts automatically generated
4. **TypeScript Configuration**: Full type safety and modern React patterns established

**Phase 2: Cline Enhancement**
1. **AI-Assisted Architecture**: Cline helped design the optimal system architecture for AI workflow orchestration
2. **Intelligent Code Generation**: Automated generation of TypeScript interfaces, API routes, and component structures
3. **Real-time Testing**: Live testing of Kestra workflows and AI integrations during development
4. **Performance Optimization**: AI-driven suggestions for code optimization and best practices
5. **Documentation Generation**: Automated documentation and code comments for better maintainability

### ğŸ’¡ Combined AI Development Benefits

**v0 + Cline Integration Results**:
- **ğŸ¨ Rapid Prototyping**: From concept to working UI in minutes with v0's generation capabilities
- **ğŸ”§ Better Code Quality**: AI-powered code reviews and suggestions improved overall code quality
- **ğŸ¤– Seamless AI Integration**: Simplified integration with Perplexity AI and Kestra workflows
- **ğŸ“± Responsive Design**: AI-assisted responsive design implementation for mobile and desktop
- **ğŸ›¡ï¸ Error Prevention**: Proactive error detection and resolution during development
- **ğŸ“š Comprehensive Documentation**: Auto-generated documentation and inline comments

**Development Timeline**:
- **Day 1**: v0[bot] and tosif121 initialized repository with core UI components
- **Day 2+**: Cline enhanced with AI workflows, backend integration, and advanced features

**Learn more**: 
- **v0**: [v0.dev](https://v0.dev/) - Generate UI components with AI
- **Cline**: [cline.bot](https://cline.bot/) - Transform your development workflow with autonomous AI assistance
## ğŸ† AssembleHack25 Sponsor Tools Integration

## ğŸ—ï¸ **Complete Cloud Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚  Kestra Engine   â”‚    â”‚   Database      â”‚
â”‚   (Vercel)      â”‚â”€â”€â”€â”€â”‚   (Railway)      â”‚â”€â”€â”€â”€â”‚  (Supabase)     â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚                 â”‚
â”‚ â€¢ Next.js App   â”‚    â”‚ â€¢ AI Workflows   â”‚    â”‚ â€¢ Real-time DB  â”‚
â”‚ â€¢ API Routes    â”‚    â”‚ â€¢ Docker Deploy  â”‚    â”‚ â€¢ Auth & RLS    â”‚
â”‚ â€¢ Global CDN    â”‚    â”‚ â€¢ 24/7 Available â”‚    â”‚ â€¢ Auto-scaling  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   AI Analysis    â”‚
                    â”‚  (Perplexity)    â”‚
                    â”‚                  â”‚
                    â”‚ â€¢ Business Intel â”‚
                    â”‚ â€¢ Decision Makingâ”‚
                    â”‚ â€¢ Automated Acts â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”„ **Automated CI/CD Pipeline**
```
GitHub Push â†’ Actions â†’ Tests â†’ Build â†’ Deploy â†’ Monitor
     â†“           â†“        â†“       â†“       â†“        â†“
   Code      Quality   Security  Docker  Vercel  Alerts
  Changes    Checks    Scans     Images  Deploy  & Health
```

## âœ¨ **Key Features**

### ğŸ¤– **AI-Powered Analysis**
- **Perplexity AI Integration**: Advanced business intelligence analysis
- **Automated Decision Making**: AI confidence-based automation triggers
- **Real-time Insights**: Live dashboard updates as workflows execute
- **Natural Language Reports**: AI-generated executive summaries

### ğŸ”„ **Workflow Automation**
- **Kestra Orchestration**: Professional workflow engine with Docker deployment
- **Multi-step Processing**: Data cleaning â†’ AI analysis â†’ Decision making â†’ Storage
- **Error Handling**: Robust failure recovery and retry mechanisms
- **Scheduled Execution**: Automated daily/weekly business reports

### ğŸŒ **Full Cloud Deployment**
- **Railway + Docker**: 24/7 Kestra availability with auto-scaling
- **Vercel Frontend**: Global CDN with serverless API routes
- **Supabase Database**: Real-time data with built-in auth and RLS
- **GitHub Actions**: Comprehensive CI/CD with automated testing

### ğŸ“Š **Professional Dashboard**
- **Real-time Monitoring**: Live workflow status and execution history
- **Interactive Charts**: Performance trends and impact distribution
- **Data Source Flexibility**: CSV uploads, Google Sheets, direct URLs
- **Mobile Responsive**: Works perfectly on all devices

### ğŸ”’ **Enterprise-Grade Quality**
- **Security Scanning**: Automated vulnerability detection
- **Performance Monitoring**: Lighthouse audits and load testing
- **Code Quality**: ESLint, TypeScript, and Prettier enforcement
- **Health Monitoring**: Automated uptime and performance alerts

## ğŸ† AssembleHack25 Sponsor Tools Integration

This project demonstrates comprehensive usage of all required sponsor tools for AssembleHack25:

### ğŸ”· Vercel - Deployment & Infrastructure
**âœ… Requirement Met**: Project deployed on Vercel with full production setup

**How We Used Vercel**:
- **Production Deployment**: Full Next.js application deployed at [vercel.com/tosif121s-projects/v0-wakanda-bi-dashboard](https://vercel.com/tosif121s-projects/v0-wakanda-bi-dashboard)
- **Vercel Blob Storage**: Integrated for CSV file uploads with automatic public URL generation
- **Environment Variables**: Secure configuration management through Vercel dashboard
- **Automatic CI/CD**: Git-based deployments with preview environments
- **Edge Functions**: Optimized API routes for global performance
- **Analytics**: Built-in performance monitoring and user analytics

**Vercel Integration Details**:
```typescript
// File Upload with Vercel Blob
import { put } from '@vercel/blob'

const blob = await put(filename, file, {
  access: 'public',
  token: process.env.BLOB_READ_WRITE_TOKEN
})
// Returns public URL accessible by Kestra workflows
```

### ğŸ¤– CodeRabbit - Code Quality & PR Reviews
**âœ… Requirement Met**: Repository demonstrates CodeRabbit integration for code quality

**How We Used CodeRabbit**:
- **PR Review Automation**: CodeRabbit automatically reviews all pull requests
- **Code Quality Suggestions**: Identifies potential bugs, security issues, and performance improvements
- **Documentation Improvements**: Suggests better comments and documentation
- **Best Practices Enforcement**: Ensures TypeScript, React, and Next.js best practices
- **Open Source Standards**: Maintains high code quality standards throughout development

**CodeRabbit Activity Examples**:
- Automated code reviews on component structure and TypeScript usage
- Security suggestions for API endpoint implementations
- Performance optimization recommendations for chart rendering
- Documentation improvements for complex workflow integrations
- Consistent coding style enforcement across the entire codebase

### âš¡ Kestra - AI Agent & Workflow Orchestration
**âœ… Requirement Met**: Kestra's built-in AI Agent summarizes data and makes automated decisions

**How We Used Kestra AI Agent**:

#### ğŸ§  AI Data Summarization
The Kestra workflow (`flows/bi-dashboard.yml`) uses AI to analyze and summarize data from multiple sources:

```yaml
# AI Analysis Phase - Summarizes uploaded data
- id: ai_analysis
  type: io.kestra.plugin.scripts.python.Script
  env:
    PERPLEXITY_API_KEY: "{{ kv('PERPLEXITY_API_KEY', 'system') }}"
  script: |
    # AI Agent analyzes data and generates insights
    response = client.chat.completions.create(
        model="sonar",
        messages=[
            {"role": "system", "content": "You are a business analyst."},
            {"role": "user", "content": prompt}
        ]
    )
    # Generates: Summary, Insights, Recommendations
```

#### ğŸ¯ AI Decision Making (Bonus Feature)
The AI Agent doesn't just summarize - it makes automated business decisions:

```yaml
# AI Decision Phase - Makes automated decisions
- id: ai_decisions
  type: io.kestra.plugin.scripts.python.Script
  script: |
    # AI Agent creates structured decisions
    decisions = {
        "impact_score": 85,
        "confidence": 90,
        "actions": ["Increase marketing budget", "Optimize workflow"],
        "urgent": true
    }
```

#### ğŸš€ Automated Action Triggers
Based on AI decisions, the system automatically triggers business actions:

```yaml
# Threshold Check - Executes decisions
- id: check_and_trigger
  script: |
    if impact >= threshold:
        print("ğŸš€ AUTOMATED ACTIONS:")
        print("  â€¢ Marketing budget +20%")
        print("  â€¢ Hiring pipeline activation")
        print("  â€¢ Infrastructure optimization")
```

**Kestra AI Workflow Features**:
1. **Data Ingestion**: Downloads data from any URL source
2. **Data Processing**: Cleans and validates datasets
3. **AI Analysis**: Perplexity AI generates business insights
4. **AI Decisions**: Creates structured decision recommendations
5. **Threshold Evaluation**: Determines if automated actions should trigger
6. **Action Execution**: Automatically implements business decisions
7. **Result Storage**: Saves all data to Supabase for dashboard display

**Real-World AI Decision Examples**:
- **High Impact Score (>80)**: Automatically increases marketing budget by 20%
- **Low Confidence (<70)**: Triggers manual review process
- **Urgent Flag**: Sends immediate notifications to executives
- **Trend Analysis**: Adjusts resource allocation based on data patterns

### ğŸ”— Integration Architecture

```mermaid
graph TD
    A[User Uploads Data] --> B[Vercel Blob Storage]
    B --> C[Kestra AI Workflow]
    C --> D[Perplexity AI Analysis]
    D --> E[AI Decision Engine]
    E --> F[Automated Actions]
    F --> G[Supabase Database]
    G --> H[Real-time Dashboard]
    
    I[CodeRabbit] --> J[Code Quality]
    J --> K[PR Reviews]
    K --> L[Vercel Deployment]
```

### ğŸ“Š Sponsor Tool Benefits Demonstrated

**Vercel Benefits**:
- âš¡ **Performance**: Global CDN and edge optimization
- ğŸ”’ **Security**: Automatic HTTPS and secure environment variables
- ğŸ“ˆ **Scalability**: Serverless functions that scale automatically
- ğŸš€ **Developer Experience**: Zero-config deployments and preview environments

**CodeRabbit Benefits**:
- ğŸ” **Code Quality**: Automated detection of bugs and vulnerabilities
- ğŸ“š **Documentation**: Improved code documentation and comments
- ğŸ¯ **Best Practices**: Enforcement of industry standards
- â° **Time Saving**: Automated reviews reduce manual review time

**Kestra Benefits**:
- ğŸ¤– **AI Integration**: Built-in AI agent for data analysis and decision making
- ğŸ”„ **Workflow Orchestration**: Complex multi-step data processing pipelines
- ğŸ“Š **Data Processing**: Handles large datasets with ease
- âš¡ **Automation**: Reduces manual intervention in business processes

### ğŸ¯ Hackathon Submission Highlights

1. **Full Vercel Deployment**: Production-ready application with Blob storage integration
2. **CodeRabbit Integration**: Visible code quality improvements and PR review automation
3. **Kestra AI Agent**: Advanced AI that both summarizes data AND makes business decisions
4. **Real-World Application**: Practical business intelligence platform with automated decision-making
5. **Professional Quality**: Enterprise-grade architecture and implementation

## ğŸ“‹ Table of Contents

- [Features](#-features)
- [Tech Stack](#-tech-stack)
- [Prerequisites](#-prerequisites)
- [Installation](#-installation)
- [Configuration](#-configuration)
- [Usage](#-usage)
- [API Endpoints](#-api-endpoints)
- [Deployment](#-deployment)
- [Architecture](#-architecture)
- [Contributing](#-contributing)

## âœ¨ Features

### ğŸ¨ Modern UI/UX
- **Responsive Design**: Mobile-first approach with seamless desktop experience
- **Dark/Light Mode**: Persistent theme switching with smooth transitions
- **Professional Aesthetics**: SaaS-grade design inspired by Vercel, Stripe, and Linear
- **Skeleton Loading**: Enhanced loading states with animated placeholders
- **Interactive Charts**: Responsive data visualizations with Recharts

### ğŸ“Š Business Intelligence
- **Multi-Source Data Input**: CSV upload, Google Sheets integration, URL data sources
- **AI-Powered Analysis**: Perplexity AI integration for intelligent insights
- **Automated Decision Making**: Threshold-based automation triggers
- **Real-time Monitoring**: Live execution tracking and status updates
- **Impact Scoring**: Quantified business impact metrics (0-100 scale)

### ğŸ”„ Workflow Automation
- **Kestra Integration**: Professional workflow orchestration
- **Cloud Storage**: Vercel Blob storage (primary) with local fallback for development
- **Database Persistence**: Supabase for execution history and insights
- **Real-time Updates**: Live dashboard updates via Supabase subscriptions

### ğŸ“ˆ Analytics & Reporting
- **Execution Trends**: Historical performance analysis
- **Impact Distribution**: Score-based performance breakdown
- **AI Performance Metrics**: Multi-dimensional AI analysis tracking
- **Automated Reports**: Downloadable insights and recommendations

## ğŸ›  Tech Stack

### Frontend
- **Framework**: Next.js 16 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS 4.x
- **Components**: shadcn/ui + Radix UI
- **Icons**: Lucide React
- **Charts**: Recharts
- **Theme**: next-themes
- **Notifications**: react-hot-toast

### Backend & Services
- **Database**: Supabase (PostgreSQL)
- **Storage**: Vercel Blob (with local fallback for development)
- **Workflow Engine**: Kestra
- **AI**: Perplexity API (Sonar model)
- **Deployment**: Vercel

### Development Tools
- **Package Manager**: npm/pnpm
- **Linting**: ESLint
- **Type Checking**: TypeScript
- **Build Tool**: Next.js built-in

## ğŸ“‹ Prerequisites

Before you begin, ensure you have the following installed:

- **Node.js** (v18.0.0 or higher)
- **npm** or **pnpm** (latest version)
- **Git** (for cloning the repository)

### Required Accounts & Services

1. **Supabase Account** - [supabase.com](https://supabase.com)
2. **Vercel Account** - [vercel.com](https://vercel.com)
3. **Kestra Instance** - [kestra.io](https://kestra.io)
4. **Perplexity API Key** - [perplexity.ai](https://perplexity.ai)

## ğŸ”§ Installation

### 1. Clone the Repository

```bash
git clone https://github.com/tosif121/v0-wakanda-bi-dashboard.git
cd v0-wakanda-bi-dashboard
```

### 2. Install Dependencies

```bash
# Using npm
npm install

# Using pnpm (recommended)
pnpm install
```

#### Troubleshooting pnpm Installation

If you encounter `ERR_PNPM_OUTDATED_LOCKFILE`, run:

```bash
# Update the lockfile
pnpm install

# Or if you prefer npm
rm pnpm-lock.yaml
npm install
```

### 3. Environment Setup

Create a `.env.local` file in the root directory:

```bash
cp .env.example .env.local
```

## âš™ï¸ Configuration

### Environment Variables

Add the following variables to your `.env.local` file:

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Vercel Blob Storage
BLOB_READ_WRITE_TOKEN=your_vercel_blob_token

# Kestra Configuration
KESTRA_BASE_URL=your_kestra_instance_url
KESTRA_USERNAME=your_kestra_username
KESTRA_PASSWORD=your_kestra_password

# AI Configuration
PERPLEXITY_API_KEY=your_perplexity_api_key

# Optional: Development
NODE_ENV=development
```

### 1. Supabase Setup

#### Create Supabase Project
1. Go to [supabase.com](https://supabase.com) and create a new project
2. Copy your project URL and anon key from Settings > API

#### Database Schema
Run the following SQL in your Supabase SQL editor:

```sql
-- Create executions table
CREATE TABLE executions (
  id TEXT PRIMARY KEY,
  status TEXT NOT NULL,
  start_time TIMESTAMP WITH TIME ZONE,
  duration TEXT,
  dataset_name TEXT,
  dataset_rows INTEGER,
  impact_score INTEGER,
  confidence INTEGER,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create ai_insights table
CREATE TABLE ai_insights (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  execution_id TEXT REFERENCES executions(id),
  summary TEXT,
  insights TEXT[],
  recommendations TEXT[],
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create decisions table
CREATE TABLE decisions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  execution_id TEXT REFERENCES executions(id),
  impact_score INTEGER,
  confidence INTEGER,
  threshold INTEGER,
  urgent BOOLEAN,
  actions TEXT[],
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Enable Row Level Security
ALTER TABLE executions ENABLE ROW LEVEL SECURITY;
ALTER TABLE ai_insights ENABLE ROW LEVEL SECURITY;
ALTER TABLE decisions ENABLE ROW LEVEL SECURITY;

-- Create policies (allow all for development)
CREATE POLICY "Allow all operations" ON executions FOR ALL USING (true);
CREATE POLICY "Allow all operations" ON ai_insights FOR ALL USING (true);
CREATE POLICY "Allow all operations" ON decisions FOR ALL USING (true);
```

### 2. Vercel Blob Setup

1. Install Vercel CLI: `npm i -g vercel`
2. Login: `vercel login`
3. Link project: `vercel link`
4. Create blob store: `vercel blob create`
5. Copy the token to your `.env.local`

**Note**: The application automatically falls back to local storage (`public/uploads/`) when Vercel Blob is not configured, making it perfect for development. In production, always use Vercel Blob for scalability and performance.

### 3. Kestra Configuration

#### Install Kestra (Local Development)
```bash
# Using Docker
docker run --pull=always --rm -it -p 8080:8080 --user=root \
  -v /var/run/docker.sock:/var/run/docker.sock \
  -v /tmp:/tmp kestra/kestra:latest server local

# Or using Docker Compose (recommended)
curl -o docker-compose.yml https://raw.githubusercontent.com/kestra-io/kestra/develop/docker-compose.yml
docker-compose up -d
```

#### Deploy Workflow

**Option 1: Local Development**
1. Access Kestra UI at `http://localhost:8080`
2. Create namespace: `assemblehack25.wakanda`
3. Import the workflow from `flows/bi-dashboard.yml`
4. Set up secrets in Kestra:
   - `PERPLEXITY_API_KEY`
   - `SUPABASE_URL`
   - `SUPABASE_KEY`

**Option 2: Railway Cloud Deployment (Recommended) ğŸš€**

**Quick Deploy:**
```bash
# 1. Deploy Kestra to Railway
cd railway-kestra
./deploy-to-railway.sh

# 2. Set environment variables in Railway dashboard:
# - PERPLEXITY_API_KEY=your_key
# - SUPABASE_URL=your_supabase_url  
# - SUPABASE_KEY=your_supabase_key

# 3. Update .env.local with your Railway URL
KESTRA_URL=https://your-kestra-app.railway.app
```

**Manual Setup (if script fails):**
```bash
cd railway-kestra
railway login
railway init
railway up

# Then set variables in Railway dashboard
# Get URL from: railway domain
```

**Benefits of Railway deployment:**
- âœ… **24/7 Availability**: No need to keep laptop running
- âœ… **Team Access**: Global access from anywhere  
- âœ… **Auto-scaling**: Handles traffic automatically
- âœ… **Free Tier**: $5/month credit included
- âœ… **Zero Maintenance**: Railway manages infrastructure
- âœ… **Docker-based**: Consistent environment

#### ğŸ”Œ Handling Kestra Server Offline State

The application gracefully handles when Kestra server is not running:

**Automatic Detection**:
- Connection status monitoring with progressive retry (5s, 10s, 30s, 1m intervals)
- Real-time connection state updates across all components
- Automatic reconnection when server comes back online

**User Experience**:
- ğŸŸ¡ **Offline Banner**: Shows when server is unavailable with retry and "Open Kestra" buttons
- ğŸ”´ **Disabled Actions**: Upload and analysis buttons are disabled when offline
- ğŸ“Š **Graceful Degradation**: Dashboard shows cached data and hides server-dependent features
- âš¡ **Smart Retries**: Automatic background reconnection attempts with exponential backoff

**Developer Features**:
- Connection status indicators in all relevant components
- Timeout handling (5s for health checks, 10s for workflow triggers)
- Structured error responses instead of throwing exceptions
- Empty arrays returned for unavailable data instead of errors

**Starting Kestra Server**:
```bash
# Quick start with Docker
docker run --pull=always --rm -it -p 8080:8080 --user=root \
  -v /var/run/docker.sock:/var/run/docker.sock \
  -v /tmp:/tmp kestra/kestra:latest server local

# The dashboard will automatically detect when server comes online
```

### 4. Perplexity AI Setup

1. Sign up at [perplexity.ai](https://perplexity.ai)
2. Generate API key from dashboard
3. Add to both `.env.local` and Kestra secrets

## ğŸ¤– GitHub Actions CI/CD Pipeline

This project includes comprehensive GitHub Actions workflows for automated testing, building, and deployment:

### ğŸ”„ **CI/CD Pipeline** (`.github/workflows/ci-cd.yml`)
**Triggers**: Push to `main`/`develop`, Pull Requests
- **Quality Checks**: TypeScript, ESLint, Prettier, Security Audit
- **Testing**: Unit tests with coverage reporting
- **Build**: Production build with artifact upload
- **Docker**: Multi-stage build with security scanning (Trivy)
- **Deploy**: Automatic deployment to Vercel
- **Notifications**: Slack alerts on success/failure

### ğŸ” **Kestra Validation** (`.github/workflows/kestra-validation.yml`)
**Triggers**: Changes to `flows/*.yml` files
- **Syntax Validation**: YAML and Kestra-specific validation
- **Deployment Testing**: Test workflow deployment to Kestra instance
- **Automated Reports**: PR comments with validation results

### ğŸ“¦ **Dependency Management** (`.github/workflows/dependency-updates.yml`)
**Triggers**: Weekly schedule (Mondays 9 AM UTC), Manual
- **Security Audits**: Automated vulnerability scanning
- **Update Notifications**: Issues created for outdated packages
- **Health Monitoring**: Production deployment health checks

### âš¡ **Performance Monitoring** (`.github/workflows/performance-monitoring.yml`)
**Triggers**: Daily schedule (2 AM UTC), Push to main, Manual
- **Lighthouse Audits**: Performance, accessibility, SEO scoring
- **Bundle Analysis**: JavaScript bundle size monitoring
- **Load Testing**: k6-based performance testing under load

### ğŸ”§ **Required Secrets**
Add these to your GitHub repository secrets:
```bash
VERCEL_TOKEN=your_vercel_token
VERCEL_ORG_ID=your_vercel_org_id
VERCEL_PROJECT_ID=your_vercel_project_id
CODECOV_TOKEN=your_codecov_token (optional)
SLACK_WEBHOOK_URL=your_slack_webhook (optional)
```

### ğŸ“Š **Automated Quality Gates**
- **Performance**: Lighthouse scores > 80%
- **Security**: No high/critical vulnerabilities
- **Code Quality**: ESLint and TypeScript checks pass
- **Bundle Size**: Monitoring and alerts for large bundles

## ğŸš€ **Quick Start**

### **1. Clone & Install**
```bash
git clone https://github.com/tosif121/v0-wakanda-bi-dashboard.git
cd v0-wakanda-bi-dashboard
npm install
```

### **2. Environment Setup**
```bash
# Copy environment template
cp .env.example .env.local

# Add your API keys:
PERPLEXITY_API_KEY=your_perplexity_key
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_key
KESTRA_URL=https://your-railway-kestra.railway.app
```

### **3. Deploy Kestra to Railway**
```bash
cd railway-kestra
./deploy-to-railway.sh
# Follow the prompts and update KESTRA_URL in .env.local
```

### **4. Start Development**
```bash
npm run dev
# Open http://localhost:3000
```

### **5. Test the Complete Flow**
1. Upload a CSV file or paste a Google Sheets URL
2. Click "Analyze" to trigger the AI workflow
3. Watch real-time updates as AI processes your data
4. View automated insights and business decisions

## ğŸ› ï¸ **Development**

### Development Server

```bash
# Start development server
npm run dev
# or
pnpm dev

# Open browser
open http://localhost:3000
```

### Production Build

```bash
# Build for production
npm run build

# Start production server
npm start
```

### ğŸ³ Docker Deployment

```bash
# Build Docker image
docker build -t wakanda-bi-engine .

# Run container
docker run -p 3000:3000 wakanda-bi-engine

# Or use npm scripts
npm run docker:build
npm run docker:run
```

**Docker Features**:
- Multi-stage build for optimized image size
- Non-root user for security
- Health checks included
- Production-ready configuration

### Testing the Complete Flow

1. **Upload Data**: Go to `/upload` and upload a CSV file
2. **Monitor Execution**: Watch real-time progress on dashboard
3. **View Results**: See AI insights and automated decisions
4. **Analyze Trends**: Explore charts and historical data

## ğŸ“¡ API Endpoints

### Data Upload
- `POST /api/upload-csv` - Upload CSV files to cloud storage
- `POST /api/validate-url` - Validate and preview data source URLs
- `GET /api/preview-data` - Preview data from URLs

### Kestra Integration
- `POST /api/kestra/trigger` - Trigger workflow execution
- `GET /api/kestra/health` - Check Kestra service health
- `GET /api/kestra/status/[id]` - Get execution status

## ğŸŒ Deployment

### Vercel Deployment (Recommended)

1. **Connect Repository**
   ```bash
   vercel --prod
   ```

2. **Environment Variables**
   Add all environment variables in Vercel dashboard

3. **Domain Configuration**
   - Custom domain setup in Vercel settings
   - SSL automatically configured

### Manual Deployment

```bash
# Build the application
npm run build

# Deploy to your preferred platform
# (AWS, Google Cloud, DigitalOcean, etc.)
```

## ğŸ— Architecture

### System Overview
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   External      â”‚
â”‚   (Next.js)     â”‚â—„â”€â”€â–ºâ”‚   (API Routes)  â”‚â—„â”€â”€â–ºâ”‚   Services      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                      â”‚                      â”‚
â”œâ”€ Dashboard           â”œâ”€ File Upload         â”œâ”€ Supabase DB
â”œâ”€ Data Upload         â”œâ”€ Kestra API          â”œâ”€ Vercel Blob
â”œâ”€ Real-time UI        â”œâ”€ Database Ops        â”œâ”€ Kestra Engine
â””â”€ Charts & Analytics  â””â”€ AI Integration      â””â”€ Perplexity AI
```

### Data Flow
1. **Upload** â†’ CSV files stored in Vercel Blob
2. **Trigger** â†’ Kestra workflow processes data
3. **Analyze** â†’ Perplexity AI generates insights
4. **Store** â†’ Results saved to Supabase
5. **Display** â†’ Real-time dashboard updates

## ğŸ¤ Contributing

### Development Workflow

1. **Fork the repository**
2. **Create feature branch**: `git checkout -b feature/amazing-feature`
3. **Commit changes**: `git commit -m 'Add amazing feature'`
4. **Push to branch**: `git push origin feature/amazing-feature`
5. **Open Pull Request**

### Code Standards

- **TypeScript**: Strict mode enabled
- **ESLint**: Follow configured rules
- **Prettier**: Auto-formatting on save
- **Conventional Commits**: Use semantic commit messages

### Testing

```bash
# Run type checking
npm run type-check

# Run linting
npm run lint

# Run tests (when available)
npm test
```

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- **AssembleHack25** - Hackathon organizers
- **Kestra** - Workflow orchestration platform
- **Vercel** - Deployment and hosting platform
- **Supabase** - Backend-as-a-Service
- **shadcn/ui** - Component library

## ğŸ“ Support

For support and questions:

- **GitHub Issues**: [Create an issue](https://github.com/tosif121/v0-wakanda-bi-dashboard/issues)
- **Documentation**: Check this README and inline code comments
- **Community**: Join our Discord/Slack (if available)

---

**Built with â¤ï¸ for AssembleHack25**

## ğŸ› **Troubleshooting**

### **Common Issues & Solutions**

#### **Kestra Connection Issues**
```bash
# Problem: "Kestra server offline" message
# Solution: Check Railway deployment status
railway logs  # Check Kestra logs
railway status  # Verify deployment is running

# Update KESTRA_URL in .env.local with correct Railway URL
```

#### **Environment Variables**
```bash
# Problem: Railway variables not working
# Solution: Set variables in Railway dashboard manually
# Go to: https://railway.app/dashboard â†’ Select your project
# Navigate to: Variables tab â†’ Add variables:
# - PERPLEXITY_API_KEY
# - SUPABASE_URL  
# - SUPABASE_KEY
```

#### **Build Failures**
```bash
# Problem: Docker build fails on Railway
# Solution: Check Dockerfile and dependencies
railway logs --build  # View build logs

# Common fix: Ensure all files are in railway-kestra/ directory
```

#### **API Errors**
```bash
# Problem: 404 errors on API routes
# Solution: Verify Vercel deployment
vercel --prod  # Redeploy to Vercel

# Check API routes are properly deployed
```

### **Security Best Practices**

#### **ğŸ”’ Environment Variables Security**
- **Never commit** `.env.local` or `.env` files to version control
- **Use Railway Dashboard** to set sensitive variables instead of command line
- **Rotate API keys** regularly, especially after public repository exposure
- **Validate variables** before deployment to prevent empty or malformed values

#### **ğŸ›¡ï¸ Deployment Security**
- **Review logs** for any exposed secrets before sharing
- **Use project-specific URLs** instead of hardcoded project IDs
- **Enable 2FA** on all service accounts (Railway, Vercel, Supabase)
- **Monitor access logs** for unauthorized deployment attempts

#### **ğŸ” API Key Management**
```bash
# âœ… Good: Set via Railway dashboard
railway variables --set "PERPLEXITY_API_KEY=your_key"

# âŒ Bad: Exposed in terminal history
echo "PERPLEXITY_API_KEY=your_key" | railway variables --kv
```

### **Getting Help**

1. **Check Logs**: Always start with `railway logs` and browser console
2. **Verify URLs**: Ensure all service URLs are correct in .env.local
3. **Test Individually**: Test each service (Vercel, Railway, Supabase) separately
4. **Environment Variables**: Double-check all API keys and URLs are set correctly
5. **Security Review**: Ensure no secrets are exposed in logs or terminal output

### **Support Resources**

- ğŸ“š **Railway Docs**: [railway.app/docs](https://railway.app/docs)
- ğŸ”§ **Kestra Docs**: [kestra.io/docs](https://kestra.io/docs)
- ğŸš€ **Vercel Docs**: [vercel.com/docs](https://vercel.com/docs)
- ğŸ’¾ **Supabase Docs**: [supabase.com/docs](https://supabase.com/docs)

---

## ğŸ‰ **Final Result**

After completing this setup, you'll have:

âœ… **Professional AI-powered BI platform** with automated workflows  
âœ… **Complete cloud deployment** - no local dependencies  
âœ… **Enterprise-grade CI/CD** with automated testing and monitoring  
âœ… **24/7 availability** with auto-scaling infrastructure  
âœ… **Team collaboration** - accessible from anywhere  
âœ… **Production-ready** with comprehensive error handling  

**Transform your business data into intelligent decisions with the Wakanda BI Engine!** ğŸš€

---

## ğŸ“„ **License**

MIT License - feel free to use this project as a foundation for your own AI-powered business intelligence solutions.

## ğŸ™ **Acknowledgments**

- **AssembleHack25** for the inspiration and platform
- **Vercel** for seamless deployment and hosting
- **Railway** for reliable container hosting
- **Supabase** for powerful database and real-time features
- **Kestra** for professional workflow orchestration
- **Perplexity AI** for intelligent business analysis
- **Cline** for AI-assisted development environment

**Built with â¤ï¸ for the future of AI-powered business intelligence**